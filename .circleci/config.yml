version: 2.1

jobs:
  build:
    docker:
      - image: circleci/classic:latest

    steps:
      - checkout

      # Install Arduino IDE
      - run:
          name: Install Arduino IDE
          command: |
            sudo apt-get update
            sudo apt-get install -y curl unzip
            curl -fsSL https://downloads.arduino.cc/arduino-1.8.15-linux64.tar.xz | tar xJf -
            sudo mv arduino-1.8.15 /usr/local/share/arduino
            sudo ln -s /usr/local/share/arduino/arduino /usr/local/bin/arduino

      # Compile Arduino code
      - run:
          name: Compile Arduino code
          command: |
            arduino --verify --board arduino:avr:uno --port /dev/ttyACM0 ./problema1.ino
